<!DOCTYPE html>
<html lang="en">
<head>
  <%- include('../layouts/head', { title: 'Complete Organizer Profile - helloRun' }) %>
  <link rel="stylesheet" href="/css/complete-profile.css">
</head>
<body>
  <%- include('../layouts/nav') %>
  
  <main class="compact-auth-page">
    <div class="compact-auth-container">
      <div class="compact-auth-card">
        
        <!-- LEFT PANEL -->
        <div class="auth-header">
          <h1>Become an Organizer</h1>
          <p class="auth-subtitle">
            Join our community of event organizers and start creating amazing running events.
          </p>
          
          <ul class="auth-features">
            <li>
              <i data-lucide="check-circle"></i>
              <span>Create and manage unlimited events</span>
            </li>
            <li>
              <i data-lucide="users"></i>
              <span>Access participant management tools</span>
            </li>
            <li>
              <i data-lucide="bar-chart-2"></i>
              <span>Real-time registration tracking</span>
            </li>
            <li>
              <i data-lucide="clock"></i>
              <span>Automated timing and results</span>
            </li>
            <li>
              <i data-lucide="shield-check"></i>
              <span>Secure payment processing</span>
            </li>
          </ul>
        </div>
        
        <!-- RIGHT PANEL - FORM -->
        <div class="auth-form-wrapper">
          <h2 class="form-title">Complete Your Profile</h2>
          <p class="form-description">
            Please provide your business details and upload required documents. We'll review your application within 3 business days.
          </p>

          <!-- Progress Steps -->
          <div class="progress-steps">
            <div class="progress-step active" data-step="1">
              <div class="progress-step-circle">1</div>
              <span class="progress-step-label">Business Info</span>
            </div>
            <div class="progress-step" data-step="2">
              <div class="progress-step-circle">2</div>
              <span class="progress-step-label">Documents</span>
            </div>
            <div class="progress-step" data-step="3">
              <div class="progress-step-circle">3</div>
              <span class="progress-step-label">Review</span>
            </div>
          </div>

          <!-- Success Message -->
          <div class="success-message" id="successMessage">
            <i data-lucide="check-circle"></i>
            <span>Application submitted successfully!</span>
          </div>

          <!-- FORM -->
          <form class="compact-auth-form" id="completeProfileForm" enctype="multipart/form-data">
            
            <!-- STEP 1: Business Information -->
            <div class="form-section active" data-section="1">
              <h3 class="section-title">
                <i data-lucide="briefcase"></i>
                Business Information
              </h3>

              <div class="compact-form-row">
                <div class="input-group">
                  <input 
                    type="text" 
                    id="businessName" 
                    name="businessName" 
                    required
                    autocomplete="organization"
                  >
                  <label for="businessName">Business Name <span class="required">*</span></label>
                </div>

                <div class="input-group">
                  <select id="businessType" name="businessType" required>
                    <option value=""></option>
                    <option value="individual">Individual</option>
                    <option value="company">Company</option>
                    <option value="ngo">NGO/Non-Profit</option>
                    <option value="sports_club">Sports Club</option>
                  </select>
                  <label for="businessType">Business Type <span class="required">*</span></label>
                </div>
              </div>

              <div class="compact-form-row">
                <div class="input-group">
                  <input 
                    type="tel" 
                    id="contactPhone" 
                    name="contactPhone" 
                    required
                    autocomplete="tel"
                    placeholder=" "
                  >
                  <label for="contactPhone">Contact Phone <span class="required">*</span></label>
                  <div class="form-hint">
                    <i data-lucide="info"></i>
                    <span>Format: +1234567890 or 1234567890</span>
                  </div>
                  <div class="form-error" id="phoneError">
                    <i data-lucide="alert-circle"></i>
                    <span>Please enter a valid phone number</span>
                  </div>
                </div>

                <div class="input-group">
                  <input 
                    type="text" 
                    id="businessRegistrationNumber" 
                    name="businessRegistrationNumber"
                    autocomplete="off"
                  >
                  <label for="businessRegistrationNumber">Registration Number (Optional)</label>
                </div>
              </div>

              <div class="compact-form-row single">
                <div class="input-group">
                  <textarea 
                    id="businessAddress" 
                    name="businessAddress"
                    rows="3"
                  ></textarea>
                  <label for="businessAddress">Business Address (Optional)</label>
                  <div class="form-hint">
                    <i data-lucide="info"></i>
                    <span>Full address including city, state, and postal code</span>
                  </div>
                </div>
              </div>
            </div>

            <!-- STEP 2: Document Upload -->
            <div class="form-section" data-section="2">
              <h3 class="section-title">
                <i data-lucide="file-text"></i>
                Required Documents
              </h3>

              <!-- ID Proof Upload -->
              <div class="compact-form-row single">
                <div>
                  <label style="display: block; margin-bottom: 0.5rem; font-weight: 600; color: #2d3748;">
                    ID Proof <span class="required">*</span>
                  </label>
                  <div class="file-upload-zone" id="idProofZone">
                    <input 
                      type="file" 
                      id="idProof" 
                      name="idProof" 
                      accept="image/jpeg,image/png,application/pdf"
                      required
                    >
                    <i data-lucide="upload" class="upload-icon"></i>
                    <p class="upload-text">Drag & drop your ID proof here</p>
                    <p class="upload-hint">or click to browse</p>
                    <p class="upload-requirements">Accepted: JPEG, PNG, PDF (Max 5MB)</p>
                  </div>
                  <div class="file-preview" id="idProofPreview">
                    <div class="file-preview-thumbnail" id="idProofThumbnail">
                      <i data-lucide="file"></i>
                    </div>
                    <div class="file-preview-info">
                      <div class="file-preview-name" id="idProofName">Document.pdf</div>
                      <div class="file-preview-size" id="idProofSize">2.5 MB</div>
                    </div>
                    <button type="button" class="file-preview-remove" id="idProofRemove">
                      <i data-lucide="x"></i>
                      Remove
                    </button>
                  </div>
                  <div class="form-error" id="idProofError">
                    <i data-lucide="alert-circle"></i>
                    <span>Please upload a valid ID proof</span>
                  </div>
                </div>
              </div>

              <!-- Business Proof Upload -->
              <div class="compact-form-row single">
                <div>
                  <label style="display: block; margin-bottom: 0.5rem; font-weight: 600; color: #2d3748;">
                    Business Proof <span class="required">*</span>
                  </label>
                  <div class="file-upload-zone" id="businessProofZone">
                    <input 
                      type="file" 
                      id="businessProof" 
                      name="businessProof" 
                      accept="image/jpeg,image/png,application/pdf"
                      required
                    >
                    <i data-lucide="upload" class="upload-icon"></i>
                    <p class="upload-text">Drag & drop your business proof here</p>
                    <p class="upload-hint">or click to browse</p>
                    <p class="upload-requirements">Accepted: JPEG, PNG, PDF (Max 5MB)</p>
                  </div>
                  <div class="file-preview" id="businessProofPreview">
                    <div class="file-preview-thumbnail" id="businessProofThumbnail">
                      <i data-lucide="file"></i>
                    </div>
                    <div class="file-preview-info">
                      <div class="file-preview-name" id="businessProofName">Document.pdf</div>
                      <div class="file-preview-size" id="businessProofSize">2.5 MB</div>
                    </div>
                    <button type="button" class="file-preview-remove" id="businessProofRemove">
                      <i data-lucide="x"></i>
                      Remove
                    </button>
                  </div>
                  <div class="form-error" id="businessProofError">
                    <i data-lucide="alert-circle"></i>
                    <span>Please upload a valid business proof</span>
                  </div>
                </div>
              </div>

              <div class="form-hint" style="margin-top: 1rem;">
                <i data-lucide="info"></i>
                <span>Business proof can be: Company registration, Tax ID, Business license, or any official document proving business existence</span>
              </div>
            </div>

            <!-- STEP 3: Additional Info & Review -->
            <div class="form-section" data-section="3">
              <h3 class="section-title">
                <i data-lucide="check-square"></i>
                Additional Information
              </h3>

              <div class="compact-form-row single">
                <div class="input-group">
                  <textarea 
                    id="additionalInfo" 
                    name="additionalInfo"
                    rows="4"
                    maxlength="500"
                  ></textarea>
                  <label for="additionalInfo">Tell us about your organization (Optional)</label>
                  <div class="form-hint">
                    <i data-lucide="info"></i>
                    <span>Max 500 characters. Share your experience organizing events or your plans.</span>
                  </div>
                </div>
              </div>

              <!-- Terms Acceptance -->
              <div class="terms-group">
                <input type="checkbox" id="terms" name="terms" required>
                <label for="terms">
                  I agree to the <a href="/terms" target="_blank">Terms of Service</a> and 
                  <a href="/privacy" target="_blank">Privacy Policy</a>. I confirm that all information 
                  provided is accurate and the uploaded documents are authentic.
                </label>
              </div>
              <div class="form-error" id="termsError">
                <i data-lucide="alert-circle"></i>
                <span>You must accept the terms to continue</span>
              </div>
            </div>

            <!-- Navigation Buttons -->
            <div class="form-navigation">
              <button type="button" class="btn btn-secondary" id="prevBtn" style="display: none;">
                <i data-lucide="chevron-left"></i>
                Previous
              </button>
              <button type="button" class="btn btn-primary" id="nextBtn">
                Next
                <i data-lucide="chevron-right"></i>
              </button>
              <button type="submit" class="btn btn-primary" id="submitBtn" style="display: none;">
                Submit Application
                <i data-lucide="send"></i>
              </button>
            </div>

          </form>
        </div>

      </div>
    </div>
  </main>

  <%- include('../layouts/footer') %>
  
  <script src="/js/main.js"></script>
  <script src="/js/complete-profile.js"></script>
  <script>
    lucide.createIcons();
  </script>
</body>
</html>