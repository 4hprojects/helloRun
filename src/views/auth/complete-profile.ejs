<!DOCTYPE html>
<html lang="en">
<head>
  <%- include('../layouts/head', { title: 'Complete Profile - helloRun' }) %>
  <link rel="stylesheet" href="/css/complete-profile.css">
</head>
<body>
  <%- include('../layouts/nav') %>
  
  <main class="compact-auth-page">
    <div class="compact-auth-container">
      <div class="compact-auth-card">
        
        <!-- LEFT PANEL: Header -->
        <div class="auth-header">
          <h1>Become an Organizer</h1>
          <p class="auth-subtitle">Create and manage running events on helloRun. Our team will review your application within <%= ORGANIZER_REVIEW_TIME_DAYS %> business days.</p>
          <ul class="auth-features">
            <li>
              <svg data-lucide="check-circle" width="20" height="20"></svg>
              Create unlimited events
            </li>
            <li>
              <svg data-lucide="users" width="20" height="20"></svg>
              Manage participants
            </li>
            <li>
              <svg data-lucide="bar-chart-2" width="20" height="20"></svg>
              Track event analytics
            </li>
            <li>
              <svg data-lucide="shield-check" width="20" height="20"></svg>
              Verified organizer badge
            </li>
          </ul>
        </div>

        <!-- RIGHT PANEL: Form -->
        <div class="auth-form-wrapper">
          <!-- Success Message -->
          <div id="successMessage" class="success-message">
            <svg data-lucide="check-circle" width="20" height="20"></svg>
            <span>Application submitted successfully! Redirecting...</span>
          </div>

          <h2 class="form-title">Application Form</h2>
          <p class="form-description">Step <span id="stepNumber">1</span> of 3</p>

          <!-- Progress Steps -->
          <div class="progress-steps step-1">
            <div class="progress-step active">
              <div class="progress-step-circle">1</div>
              <div class="progress-step-label">Business Info</div>
            </div>
            <div class="progress-step">
              <div class="progress-step-circle">2</div>
              <div class="progress-step-label">Documents</div>
            </div>
            <div class="progress-step">
              <div class="progress-step-circle">3</div>
              <div class="progress-step-label">Review</div>
            </div>
          </div>

          <!-- Form -->
          <form id="completeProfileForm" class="compact-auth-form">
            
            <!-- STEP 1: Business Information -->
            <div class="form-section active" data-section="1">
              <h3 class="section-title">
                <svg data-lucide="briefcase" width="20" height="20"></svg>
                Business Information
              </h3>

              <div class="compact-form-row">
                <div class="input-group">
                  <input type="text" id="businessName" name="businessName" placeholder=" " required>
                  <label for="businessName">Business Name <span class="required">*</span></label>
                  <div id="businessName-error" class="form-error"></div>
                </div>

                <div class="input-group">
                  <select id="businessType" name="businessType" required>
                    <option value="">Select business type</option>
                    <option value="individual">Individual/Solo Organizer</option>
                    <option value="company">Company/Commercial</option>
                    <option value="ngo">Non-Profit/NGO</option>
                    <option value="sports_club">Sports Club/Association</option>
                  </select>
                  <label for="businessType">Business Type <span class="required">*</span></label>
                  <div id="businessType-error" class="form-error"></div>
                </div>
              </div>

              <div class="compact-form-row">
                <div class="input-group">
                  <input type="tel" id="contactPhone" name="contactPhone" placeholder=" " required>
                  <label for="contactPhone">Contact Phone <span class="required">*</span></label>
                  <div id="contactPhone-error" class="form-error"></div>
                  <p class="form-hint">
                    <svg data-lucide="info" width="16" height="16"></svg>
                    Include country code (e.g., +1 234-567-8900)
                  </p>
                </div>

                <div class="input-group">
                  <input type="text" id="businessRegistrationNumber" name="businessRegistrationNumber" placeholder=" ">
                  <label for="businessRegistrationNumber">Registration Number (Optional)</label>
                  <div id="businessRegistrationNumber-error" class="form-error"></div>
                </div>
              </div>

              <div class="compact-form-row single">
                <div class="input-group">
                  <input type="text" id="businessAddress" name="businessAddress" placeholder=" ">
                  <label for="businessAddress">Business Address (Optional)</label>
                  <div id="businessAddress-error" class="form-error"></div>
                  <p class="form-hint">
                    <svg data-lucide="info" width="16" height="16"></svg>
                    Max 500 characters
                  </p>
                </div>
              </div>

              <div class="form-navigation">
                <button type="button" class="btn btn-secondary" disabled>
                  <svg data-lucide="chevron-left" width="18" height="18"></svg>
                  Previous
                </button>
                <button type="button" class="btn btn-primary" data-action="next">
                  Next
                  <svg data-lucide="chevron-right" width="18" height="18"></svg>
                </button>
              </div>
            </div>

            <!-- STEP 2: Document Upload -->
            <div class="form-section" data-section="2">
              <h3 class="section-title">
                <svg data-lucide="file-check" width="20" height="20"></svg>
                Documents
              </h3>

              <p class="form-hint" style="margin-bottom: 1.5rem;">
                <svg data-lucide="info" width="16" height="16"></svg>
                Please upload clear copies of your ID and business proof documents
              </p>

              <!-- ID Proof -->
              <div class="compact-form-row single">
                <div class="input-group">
                  <label for="idProof" style="position: static; transform: none; background: none; font-size: 0.95rem; margin-bottom: 0.75rem;">
                    ID Proof <span class="required">*</span>
                  </label>
                  <div id="idProof-drag-zone" class="file-upload-zone" data-field="idProof">
                    <svg class="upload-icon" data-lucide="upload-cloud" width="40" height="40"></svg>
                    <p class="upload-text">Drag and drop your file here</p>
                    <p class="upload-hint">or click to select</p>
                    <p class="upload-requirements">PDF, JPG or PNG • Max 5MB</p>
                  </div>
                  <input type="file" id="idProof" name="idProof" accept=".pdf,.jpg,.jpeg,.png" required style="display: none;">
                  <div id="idProof-preview" class="file-preview"></div>
                  <div id="idProof-error" class="form-error"></div>
                </div>
              </div>

              <!-- Business Proof -->
              <div class="compact-form-row single" style="margin-top: 1.5rem;">
                <div class="input-group">
                  <label for="businessProof" style="position: static; transform: none; background: none; font-size: 0.95rem; margin-bottom: 0.75rem;">
                    Business Proof <span class="required">*</span>
                  </label>
                  <div id="businessProof-drag-zone" class="file-upload-zone" data-field="businessProof">
                    <svg class="upload-icon" data-lucide="upload-cloud" width="40" height="40"></svg>
                    <p class="upload-text">Drag and drop your file here</p>
                    <p class="upload-hint">or click to select</p>
                    <p class="upload-requirements">PDF, JPG or PNG • Max 5MB</p>
                  </div>
                  <input type="file" id="businessProof" name="businessProof" accept=".pdf,.jpg,.jpeg,.png" required style="display: none;">
                  <div id="businessProof-preview" class="file-preview"></div>
                  <div id="businessProof-error" class="form-error"></div>
                </div>
              </div>

              <div class="form-navigation">
                <button type="button" class="btn btn-secondary" data-action="prev">
                  <svg data-lucide="chevron-left" width="18" height="18"></svg>
                  Previous
                </button>
                <button type="button" class="btn btn-primary" data-action="next">
                  Next
                  <svg data-lucide="chevron-right" width="18" height="18"></svg>
                </button>
              </div>
            </div>

            <!-- STEP 3: Review & Submit -->
            <div class="form-section" data-section="3">
              <h3 class="section-title">
                <svg data-lucide="clipboard-check" width="20" height="20"></svg>
                Review & Confirm
              </h3>

              <div class="compact-form-row single">
                <div class="input-group">
                  <textarea id="additionalInfo" name="additionalInfo" placeholder=" " maxlength="500"></textarea>
                  <label for="additionalInfo">Additional Information (Optional)</label>
                  <div id="additionalInfo-error" class="form-error"></div>
                  <p class="form-hint">
                    <svg data-lucide="info" width="16" height="16"></svg>
                    Tell us more about your experience <span class="char-count">(<span>0</span>/500)</span>
                  </p>
                </div>
              </div>

              <div class="terms-group">
                <input type="checkbox" id="agreeTerms" name="agreeTerms" required>
                <label for="agreeTerms">
                  I confirm that the information provided is accurate and I agree to the 
                  <a href="/terms" target="_blank">Terms & Conditions</a> and 
                  <a href="/privacy" target="_blank">Privacy Policy</a>
                  <span class="required">*</span>
                </label>
              </div>
              <div id="agreeTerms-error" class="form-error"></div>

              <div class="form-navigation">
                <button type="button" class="btn btn-secondary" data-action="prev">
                  <svg data-lucide="chevron-left" width="18" height="18"></svg>
                  Previous
                </button>
                <button type="submit" class="btn btn-primary">
                  <span class="btn-text">Submit Application</span>
                  <div class="btn-loader" style="display: none;">
                    <div style="width: 20px; height: 20px; border: 2px solid white; border-top-color: transparent; border-radius: 50%; animation: spin 0.6s linear infinite;"></div>
                  </div>
                </button>
              </div>
            </div>

          </form>
        </div>
      </div>
    </div>
  </main>

  <%- include('../layouts/footer') %>

  <script src="/js/complete-profile.js"></script>
  <script>
    lucide.createIcons();
  </script>
</body>
</html>