helloRun/
  src/
    config/
      db.js
      session.js
    controllers/
      auth.controller.js
      page.controller.js
    middleware/
      auth.middleware.js             ‚Üê REWRITTEN (Feb 19, 2026) - Consolidated: populateAuthLocals, redirectIfAuth, requireAuth, requireAdmin, requireOrganizer, requireApprovedOrganizer
      role.middleware.js
    models/
      User.js
      user.model.js
      Counter.js
      counter.model.js
      Event.js
      Registration.js
      OrganiserApplication.js
      Submission.js
    routes/
      authRoutes.js                 ‚Üê UPDATED (Feb 19, 2026) - Added redirectIfAuth middleware on login/signup routes
      event.routes.js
      organiser.routes.js
      organizer.routes.js           ‚Üê Event creation & organizer profile (Feb 14, 2026)
      pageRoutes.js                 ‚Üê UPDATED (Feb 19, 2026) - Added /leaderboard route
      admin.routes.js               ‚Üê PENDING Phase 2C
    services/
      upload.service.js             ‚Üê Updated (Feb 5, 2026)
      email.service.js              ‚Üê Updated (Feb 5, 2026)
      password.service.js
      token.service.js
      counter.service.js
    scripts/
      initCounter.js
      migrateUserIds.js
      setup-uploads.js              ‚Üê NEW (Feb 5, 2026)
      clean-users.js                ‚Üê NEW (Feb 14, 2026)
    views/
      layouts/
        head.ejs                     ‚Üê Reusable head with GA (Feb 5, 2026)
        nav.ejs                      ‚Üê UPDATED (Feb 19, 2026) - Added Blog + Leaderboard links, role-based nav, auth-aware Login/Logout toggle
        footer.ejs
        main.ejs
      pages/
        home.ejs                     ‚Üê UPDATED (Feb 19, 2026) - Full landing page with hero, features, how-it-works, testimonial, CTA
        events.ejs                   ‚Üê Updated with auth-based content (Feb 5, 2026)
        blog.ejs                     ‚Üê NEW (Feb 17, 2026) - Placeholder
        about.ejs                    ‚Üê NEW (Feb 17, 2026) - Placeholder
        leaderboard.ejs              ‚Üê NEW (Feb 19, 2026) - Placeholder (Phase 5 data)
        index.ejs
      auth/
        login.ejs
        signup.ejs
        forgot-password.ejs          ‚Üê UPDATED (Feb 17, 2026) - Added resend verification link
        reset-password.ejs
        reset-password-expired.ejs
        reset-email-sent.ejs
        reset-success.ejs
        resend-verification.ejs      ‚Üê UPDATED (Feb 17, 2026) - Disable form on success
        verify-email-sent.ejs        ‚Üê UI/UX improved (Feb 17, 2026)
        verify-email-success.ejs     ‚Üê UPDATED (Feb 17, 2026) - Compact no-scroll layout
        verify-email-expired.ejs
        verify-email-result.ejs
      organizer/
        complete-profile.ejs         ‚Üê NEW (Feb 14, 2026) - 3-step form wizard
        application-status.ejs       ‚Üê NEW (Feb 14, 2026) - Status tracking page
      admin/
        applications-list.ejs        ‚Üê PENDING Phase 2C
        application-details.ejs      ‚Üê PENDING Phase 2C
      error.ejs
    public/
      css/
        style.css                    ‚Üê UPDATED (Feb 19, 2026) - Nav user menu styles, auth buttons, mobile responsive nav, logout button
        helloRun.css                 ‚Üê UPDATED (Feb 19, 2026) - Landing page styles, button contrast, mobile responsive
        login.css
        signup.css
        forgot-password.css
        reset-password.css
        events.css                   ‚Üê NEW (Feb 5, 2026) - Full events page styling
        complete-profile.css         ‚Üê NEW (Feb 14, 2026) - 600+ lines
        application-status.css       ‚Üê NEW (Feb 14, 2026) - 800+ lines
        verify-email-sent.css        ‚Üê NEW (Feb 17, 2026) - Compact & mobile-optimized
      js/
        main.js
        auth.js
        signup.js
        reset-password.js
        complete-profile.js          ‚Üê NEW (Feb 14, 2026) - Form validation & AJAX
        application-status.js        ‚Üê NEW (Feb 14, 2026) - Auto-refresh, copy ID
      images/
        helloRun-icon.webp           ‚Üê Used in hero section
      uploads/                       ‚Üê NEW (Feb 5, 2026)
        .gitkeep
        organizer-docs/              ‚Üê Stores PDF, JPG, PNG proofs
          .gitkeep
        event-images/                ‚Üê Feature for Phase 3
          .gitkeep
        profile-photos/              ‚Üê Feature for Phase 6
          .gitkeep
      robots.txt
      sitemap.xml
    server.js                        ‚Üê Updated route registration (Feb 5, 2026)
  .env
  ads.txt                           ‚Üê NEW (Feb 20, 2026) - Google AdSense authorized seller file
  .gitignore                         ‚Üê Updated (Feb 5, 2026)
  package.json                       ‚Üê Last updated (Feb 5, 2026)
  package-lock.json
  README.md
  dir.txt                            ‚Üê UPDATED (Feb 19, 2026)
  dns.txt
  wireframe.txt                      ‚Üê UPDATED (Feb 19, 2026)
  sitemap.md
  organiser_flow.txt
  user-role-system.txt
  sitetheme.txt
  seo keywords.txt
  current-dir.txt
  node_modules/
  .git/

================================================================================
CHANGELOG - February 19, 2026 (Session 3 - LATEST)
================================================================================

üèÜ NAV UPDATE: BLOG + LEADERBOARD LINKS

‚úèÔ∏è UPDATED FILES (2):
  1. src/views/layouts/nav.ejs
     - Added Blog link (/blog) in public nav links
     - Added Leaderboard link (/leaderboard) in public nav links
     - Both visible to all users (logged in and logged out)

  2. src/routes/pageRoutes.js
     - Added GET /leaderboard route (placeholder page)

‚ú® NEW FILES (1):
  1. src/views/pages/leaderboard.ejs
     - Placeholder page with "Coming soon" message
     - Will be populated with real data in Phase 5 (Submissions & Results)

================================================================================
CHANGELOG - February 19, 2026 (Session 2)
================================================================================

üîß AUTH MIDDLEWARE REWRITE & NAV FIX

‚úèÔ∏è UPDATED FILES (4):
  1. src/middleware/auth.middleware.js (FULL REWRITE)
     - Removed old duplicate exports.setUserContext / exports.requireAuth pattern
     - Single `const User = require(...)` at top of file (fixed User is not defined)
     - Consolidated into clean named functions:
       ‚Ä¢ populateAuthLocals - Sets res.locals for nav (isAuthenticated, isAdmin, isOrganizer, etc.)
       ‚Ä¢ redirectIfAuth - Redirects logged-in users away from login/signup to their dashboard
       ‚Ä¢ requireAuth - Protects routes requiring login
       ‚Ä¢ requireAdmin - Protects admin-only routes
       ‚Ä¢ requireOrganizer - Protects organiser-only routes
       ‚Ä¢ requireApprovedOrganizer - Protects approved-organiser-only routes
     - Single module.exports at bottom (no more exports.xxx conflicts)

  2. src/routes/authRoutes.js
     - Added `redirectIfAuth` middleware to GET/POST login, signup, register routes
     - Logged-in users redirected to role-based dashboard instead of seeing login page
     - Added `handleRegistration` function definition before router.post references

  3. src/views/layouts/nav.ejs
     - Role-based dashboard links (Admin ‚Üí /admin/dashboard, Organizer ‚Üí /organizer/dashboard, Runner ‚Üí /runner/dashboard)
     - Pending organizer ‚Üí /organizer/application-status
     - Auth-aware: shows Login/Sign Up when logged out, Hi [Name] + Logout when logged in
     - Added aria labels for accessibility
     - Logout icon with lucide icons

  4. src/public/css/style.css
     - .nav-user styles (border-left separator, username, logout button)
     - .nav-auth-buttons styles (Login/Sign Up button group)
     - .nav-login-btn / .nav-signup-btn styles
     - .nav-logout-btn with orange outline, hover fill
     - Mobile responsive nav-user and nav-auth-buttons (768px breakpoint)
     - .logout-form inline display

üêõ BUGS FIXED:
  ‚úÖ User is not defined in populateAuthLocals (missing require at top of file)
  ‚úÖ requireAuth is not defined (old exports pattern conflicting with module.exports)
  ‚úÖ Nav always showing Login/Sign Up even when logged in (populateAuthLocals crashing)
  ‚úÖ Logged-in users could access /login and /signup pages (added redirectIfAuth)
  ‚úÖ handleRegistration is not defined (function defined after reference)

üóëÔ∏è REMOVED:
  - src/routes/index.routes.js (dead file)
  - src/routes/index.js (dead file)
  - Old exports.setUserContext pattern from auth.middleware.js
  - Old exports.requireAuth pattern from auth.middleware.js

================================================================================
CHANGELOG - February 19, 2026 (Session 1)
================================================================================

üé® HOME PAGE & UI IMPROVEMENTS

‚úèÔ∏è UPDATED FILES (2):
  1. src/views/pages/home.ejs
     - Replaced Font Awesome icon placeholder with helloRun-icon.webp logo
     - Full landing page: hero, features, how-it-works, testimonial, CTA sections
     - Proper <head> include with GA tracking
     - Font Awesome CDN for section icons

  2. src/public/css/helloRun.css
     - Improved button contrast (WCAG AA compliant)
     - .btn-primary: darker orange (#e8873a) for white text readability
     - .btn-outline: dark slate (#1e293b) border/text for hero visibility
     - .cta-section .btn-primary: dark slate (#1e293b) for CTA contrast
     - .hero-logo styles for responsive image sizing
     - .hero-buttons z-index fix for clickability
     - Comprehensive mobile responsive styles (768px & 480px breakpoints)
     - Stacked buttons on mobile, scaled hero visual, single-column features

üêõ BUGS FIXED:
  ‚úÖ Hero buttons not clickable (z-index / pointer-events fix)
  ‚úÖ Poor button contrast on light backgrounds
  ‚úÖ Hero visual using placeholder icon instead of actual logo

================================================================================
CHANGELOG - February 17, 2026 (Session 2)
================================================================================

üîß BUG FIXES & UI IMPROVEMENTS

‚úèÔ∏è UPDATED FILES (4):
  1. src/views/auth/resend-verification.ejs
     - Fixed: readOnly instead of disabled on email input during submit
     - Added: Disable input & button after successful email send
     - Added: "‚úì Verification link sent" button text on success
     - Added: "Try again" link for retry after success
     - Prevents spam submissions

  2. src/views/auth/verify-email-success.ejs
     - Compact layout to avoid scrolling
     - Reduced padding and icon sizes
     - Tighter spacing throughout

  3. src/views/auth/forgot-password.ejs
     - Added "Resend Verification Email" link in auth-links section

  4. src/routes/page.routes.js
     - Added routes: GET /, /events, /blog, /about
     - Fixed 404 errors for nav links

‚ú® NEW FILES (3):
  1. src/views/pages/home.ejs - Landing page placeholder
  2. src/views/pages/blog.ejs - Blog placeholder
  3. src/views/pages/about.ejs - About placeholder

üêõ BUGS FIXED:
  ‚úÖ req.body empty on POST /resend-verification (disabled input fix)
  ‚úÖ 404 on /, /events, /blog, /about (missing page routes)

================================================================================
CHANGELOG - February 17, 2026 (Session 1)
================================================================================

üé® UI/UX IMPROVEMENT: VERIFY EMAIL SENT PAGE

‚ú® NEW FILES (1):
  1. src/public/css/verify-email-sent.css (NEW - extracted & optimized)
     - Compact design with reduced padding & spacing
     - Two-panel layout (40% illustration + 60% content)
     - Smooth animations (slideUp, scaleIn, float, pulse)
     - Mobile-responsive (768px & 480px breakpoints)
     - Custom scrollbar styling
     - 450+ lines of optimized CSS
     - Unique class prefixes (verify-*) to prevent conflicts

‚úèÔ∏è UPDATED FILES (1):
  1. src/views/auth/verify-email-sent.ejs
     - Removed inline styles (moved to separate CSS file)
     - Linked new verify-email-sent.css stylesheet
     - HTML structure unchanged for full compatibility

üßπ CLEANUP: AUTHENTICATION ROUTES CONSOLIDATION

‚úÖ REMOVED FILES (1):
  1. src/routes/auth.routes.js (incomplete, causing duplication)

‚úÖ CONSOLIDATED FILES (1):
  1. src/routes/authRoutes.js - Single source of truth for all auth routes

================================================================================
CHANGELOG - February 14-17, 2026
================================================================================

üì¶ PHASE 2B: ORGANIZER APPLICATION SYSTEM - FORMS & STATUS ‚úÖ COMPLETE (Feb 14)

‚ú® NEW FILES (6):
  1. src/views/organizer/complete-profile.ejs (3-step form wizard, 400+ lines)
  2. src/public/css/complete-profile.css (professional styling, 600+ lines)
  3. src/public/js/complete-profile.js (form logic & validation, 500+ lines)
  4. src/views/organizer/application-status.ejs (status timeline, 350+ lines)
  5. src/public/css/application-status.css (status styling, 800+ lines)
  6. src/public/js/application-status.js (auto-refresh & copy, 150+ lines)

‚úèÔ∏è UPDATED FILES (1):
  1. src/routes/organizer.routes.js

================================================================================
CHANGELOG - February 5, 2026
================================================================================

‚ú® SESSION UPDATE: LOGIN FLOW & NAVIGATION ENHANCEMENT

‚úÖ UPDATED FILES (11):
  1. src/controllers/auth.controller.js - Role-based login redirects
  2. src/controllers/page.controller.js - Flash message handling
  3. src/middleware/auth.middleware.js - setUserContext middleware
  4. src/routes/authRoutes.js - Login & logout handlers
  5. src/views/layouts/nav.ejs - User menu with role-based nav
  6. src/views/pages/events.ejs - Auth-based hero content
  7. src/public/css/style.css - User menu styles
  8. src/public/css/events.css (NEW) - Events page styling
  9. src/server.js - Route prefix cleanup
  10. .gitignore - Updated with upload directories
  11. package.json - Dependencies verified

================================================================================
CURRENT STATUS SUMMARY
================================================================================

PROJECT STATUS: Development Phase 2B Complete (Feb 19, 2026)
LAST MAJOR UPDATE: Feb 19, 2026 - Auth middleware rewrite, nav auth toggle, redirectIfAuth, Blog + Leaderboard nav links
NEXT PHASE: Phase 2C - Admin Application Review Dashboard

COMPLETED WORK:
  ‚úÖ Phase 0: Basic project structure
  ‚úÖ Phase 1: Complete authentication system
  ‚úÖ Phase 2A: Organizer signup flow
  ‚úÖ Phase 2B: Organizer application forms & status tracking
  ‚úÖ UI/UX improvements for verify email pages
  ‚úÖ Route organization and consolidation
  ‚úÖ Page routes for nav links (home, events, blog, about, leaderboard)
  ‚úÖ Form spam prevention on resend verification
  ‚úÖ Home page landing with hero logo, features, how-it-works, testimonial, CTA
  ‚úÖ Button contrast improvements (WCAG AA)
  ‚úÖ Mobile responsive home page (768px & 480px breakpoints)
  ‚úÖ Hero button clickability fix (z-index)
  ‚úÖ Auth middleware fully rewritten (no more User is not defined)
  ‚úÖ Nav shows Login/Sign Up when logged out, Hi [Name] + Logout when logged in
  ‚úÖ Logged-in users redirected from login/signup to dashboard
  ‚úÖ Role-based nav links (Admin, Organizer, Runner dashboards)
  ‚úÖ Dead route files cleaned up (index.routes.js, index.js)
  ‚úÖ Blog link in navigation
  ‚úÖ Leaderboard placeholder page + nav link

IN PROGRESS:
  üîÑ Phase 2C: Admin dashboard for application review (Ready to start)

QUALITY METRICS:
  ‚úÖ Code organized with clear comments
  ‚úÖ Comprehensive error handling
  ‚úÖ Mobile responsive design
  ‚úÖ Accessibility features (ARIA, keyboard nav)
  ‚úÖ Production-ready code quality
  ‚úÖ Single source of truth for routes
  ‚úÖ CSS files organized with unique prefixes
  ‚úÖ No 404 errors on navigation links
  ‚úÖ Form spam prevention implemented
  ‚úÖ WCAG AA button contrast compliance
  ‚úÖ Auth middleware consolidated (single file, no duplicates)
  ‚úÖ Proper auth state in nav across all pages

ESTIMATED TIMELINE:
  Phase 2C (Admin): 2-3 hours
  Phase 3 (Events): 4-6 hours
  Phase 4 (Registration): 3-4 hours
  Phase 5 (Submissions + Leaderboard): 4-5 hours
  Phase 6 (Dashboards): 4-6 hours
  Total remaining: ~20 hours

================================================================================
COMPLETE FEATURE LIST (As of Feb 19, 2026)
================================================================================

AUTHENTICATION (Phase 1) ‚úÖ COMPLETE:
  ‚úÖ Email/password signup with role selection
  ‚úÖ Email verification with 24-hour token expiry
  ‚úÖ Resend verification email (with spam prevention)
  ‚úÖ Login with email verification requirement
  ‚úÖ Password reset with 60-minute token expiry
  ‚úÖ Password strength validation
  ‚úÖ Session management with 7-day timeout
  ‚úÖ Secure password hashing with bcrypt
  ‚úÖ Role-based login redirects
  ‚úÖ CSRF protection on forms
  ‚úÖ Rate limiting on password reset
  ‚úÖ Logout functionality
  ‚úÖ Improved verify email pages (compact UI)
  ‚úÖ Logged-in users redirected from login/signup to dashboard

AUTH MIDDLEWARE ‚úÖ COMPLETE:
  ‚úÖ populateAuthLocals - Sets isAuthenticated, user, isAdmin, isOrganizer, isApprovedOrganizer for all views
  ‚úÖ redirectIfAuth - Prevents logged-in users from accessing auth pages
  ‚úÖ requireAuth - Protects authenticated-only routes
  ‚úÖ requireAdmin - Protects admin-only routes
  ‚úÖ requireOrganizer - Protects organiser-only routes
  ‚úÖ requireApprovedOrganizer - Protects approved-organiser-only routes

ORGANIZER APPLICATIONS (Phase 2) ‚úÖ 80% COMPLETE:
  ‚úÖ User selects "Organizer" role on signup
  ‚úÖ Email verification required before application
  ‚úÖ 3-step application form
  ‚úÖ Business information collection
  ‚úÖ File upload (ID proof & business proof)
  ‚úÖ Drag-and-drop file upload
  ‚úÖ File validation
  ‚úÖ Application status tracking page
  ‚úÖ Timeline visualization
  ‚úÖ Auto-refresh status every 5 minutes
  ‚úÖ Copy application ID to clipboard
  ‚úÖ Email notification on submission
  ‚è≥ Admin application review dashboard (Phase 2C)
  ‚è≥ Approve/reject functionality (Phase 2C)
  ‚è≥ Approval/rejection emails (Phase 2C)

NAVIGATION ‚úÖ COMPLETE:
  ‚úÖ Responsive navigation with hamburger menu
  ‚úÖ Auth-aware: Login/Sign Up (logged out) ‚Üî Hi [Name] + Logout (logged in)
  ‚úÖ Public links: Home, Events, Blog, Leaderboard (visible to all)
  ‚úÖ Role-based dashboard links:
    ‚Ä¢ Admin ‚Üí /admin/dashboard
    ‚Ä¢ Approved Organizer ‚Üí /organizer/dashboard
    ‚Ä¢ Pending Organizer ‚Üí /organizer/application-status
    ‚Ä¢ Runner ‚Üí /runner/dashboard
  ‚úÖ Accessibility (aria-label, aria-expanded)
  ‚úÖ Mobile responsive (768px breakpoint)

PAGES ‚úÖ COMPLETE:
  ‚úÖ Home page (full landing: hero, features, how-it-works, testimonial, CTA)
  ‚úÖ Hero section with helloRun-icon.webp logo
  ‚úÖ Accessible buttons with WCAG AA contrast
  ‚úÖ Events page (with auth-based content)
  ‚úÖ Blog page (placeholder)
  ‚úÖ About page (placeholder)
  ‚úÖ Leaderboard page (placeholder ‚Äî data from Phase 5)
  ‚úÖ No 404 errors on nav links
  ‚úÖ Mobile responsive (768px & 480px breakpoints)

PENDING FEATURES:
  ‚è≥ Phase 2C: Admin dashboard for application review
  ‚è≥ Phase 3: Event creation and management
  ‚è≥ Phase 4: Registration system
  ‚è≥ Phase 5: Submission, results, and leaderboard data
  ‚è≥ Phase 6: Runner and organizer dashboards
  ‚è≥ Phase 7: Blog system and additional features
  ‚è≥ Phase 8: Google OAuth integration
  ‚è≥ Phase 9: Testing and optimization
  ‚è≥ Phase 10: Production deployment

================================================================================