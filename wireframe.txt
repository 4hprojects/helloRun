How we will build helloRun step-by-step

Phase 0: Project skeleton (MVC baseline) âœ… COMPLETED (Nov 2024)

Goal: You can run the app locally with pages loading.

What you built:
âœ… Express server
âœ… EJS views with layouts
âœ… MVC folders structure
âœ… MongoDB connection
âœ… Base layout + navigation + footer components
âœ… Mobile-responsive navigation with hamburger menu
âœ… Lucide icons integration
âœ… Google Analytics integration (GA4) âœ…

Folder structure (MVC):
hellorun/

What you have after Phase 0:
âœ… / home page (fully styled with hero, features, audience sections)
âœ… /events events page (UI ready for dynamic content)
âœ… /login and /signup pages (fully functional UI with improved password toggle)
âœ… /forgot-password page (compact UI, no scrolling required) âœ… (Dec 2024)
âœ… Complete password reset flow (forgot, reset, success, expired)
âœ… Complete email verification flow (sent, success, expired, resend)
âœ… Error page
âœ… Responsive navigation with mobile menu and Blog link âœ… UPDATED
âœ… Footer with links
âœ… SEO ready (sitemap.xml updated with blog categories, robots.txt)
âœ… Google Analytics 4 tracking on all pages

---

Phase 1: Auth (MongoDB) with email verification âœ… COMPLETED (100%) - Feb 3, 2025

Goal: Users can sign up, verify email, and log in securely.

Feature 1A: Email/password signup âœ… COMPLETED (Nov 2024)
âœ… Create User model with email verification fields
âœ… Auto-increment userId (U000001, U000002, etc.)
âœ… Counter model for sequential IDs
âœ… Hash password with bcrypt
âœ… Block duplicate email
âœ… Save role: "runner" or "organiser"
âœ… Email verification required before login
âœ… Migration scripts for existing users

Feature 1B: Email verification âœ… COMPLETED (Dec 2024)
âœ… Generate verification token on signup
âœ… Send verification email via Resend
âœ… /verify-email/:token endpoint
âœ… Token expiry (24 hours)
âœ… Resend verification email feature
âœ… User cannot login until verified
âœ… Professional email templates
âœ… Email verification UI pages:
  âœ… verify-email-sent.ejs (success message)
  âœ… verify-email-success.ejs (verified confirmation)
  âœ… verify-email-expired.ejs (token expired)
  âœ… verify-email-result.ejs (generic result page)
  âœ… resend-verification.ejs (resend form)

Feature 1C: Password reset âœ… COMPLETED (Feb 3, 2025)
âœ… Request password reset
âœ… Generate reset token (1 hour expiry)
âœ… Send reset email via Resend
âœ… Verify reset token
âœ… Update password
âœ… Handle expired tokens
âœ… Rate limiting (3 resets per 24 hours)
âœ… Email notifications
âœ… Confirmation email after password reset
âœ… Improved forgot-password UI (compact, modern design)
âœ… Professional reset-password UI with strength indicator âœ… (Feb 3, 2025)
âœ… Real-time password validation âœ… (Feb 3, 2025)
âœ… Password visibility toggle (eye/eye-off icons) âœ… (Feb 3, 2025)
âœ… Common password detection âœ… (Feb 3, 2025)
âœ… Sequential/repeated character detection âœ… (Feb 3, 2025)
âœ… Accessible form with ARIA support âœ… (Feb 3, 2025)
âœ… Client-side validation with debouncing âœ… (Feb 3, 2025)
âœ… Password match validation âœ… (Feb 3, 2025)
âœ… Animated strength indicator (gradient) âœ… (Feb 3, 2025)

Password Reset Validation (Client-side) - Feb 3, 2025:
âœ… Minimum 8 characters, maximum 128
âœ… At least one uppercase letter (A-Z)
âœ… At least one lowercase letter (a-z)
âœ… At least one number (0-9)
âœ… No common passwords (20+ blocked patterns)
âœ… No sequential characters (123, abc, etc.)
âœ… No excessive repeated characters (aaa, 111)
âœ… Real-time strength indicator (5 levels: Very Weak â†’ Strong)
âœ… Password match confirmation
âœ… Debounced validation (300ms delay)
âœ… Screen reader announcements
âœ… Error shake animations
âœ… Live ARIA regions for accessibility

Feature 1D: Session management âœ… COMPLETED (Nov 2024)
âœ… express-session with MongoDB store
âœ… Session timeout (7 days)
âœ… Remember me option
âœ… Secure cookies
âœ… CSRF protection

Feature 1E: Login âœ… COMPLETED (Dec 2024)
âœ… Email/password validation
âœ… Check email verified before login
âœ… bcrypt password comparison
âœ… Create session
âœ… Redirect to dashboard or complete profile
âœ… Professional login UI with password toggle
âœ… Error handling and validation

---

Files Structure (Updated Feb 3, 2025):

src/
  config/
    db.js
    session.js
  controllers/
    auth.controller.js
    page.controller.js
  middleware/
    auth.middleware.js âœ…
    role.middleware.js âœ…
  models/
    User.js
    Counter.js
    Event.js
    Registration.js
    OrganiserApplication.js
    Submission.js
  routes/
    auth.routes.js
    authRoutes.js
    event.routes.js
    organiser.routes.js
    organizer.routes.js
    page.routes.js
    admin.routes.js
  services/
    upload.service.js
    email.service.js âœ…
    password.service.js âœ…
    token.service.js âœ…
    counter.service.js âœ…
  scripts/
    initCounter.js
    migrateUserIds.js
  views/
    layouts/
      head.ejs
      nav.ejs
      footer.ejs
      main.ejs
    pages/
      index.ejs
      events.ejs
    auth/
      login.ejs âœ…
      signup.ejs âœ…
      forgot-password.ejs âœ…
      reset-password.ejs âœ… (Updated Feb 3, 2025)
      reset-password-expired.ejs âœ…
      reset-email-sent.ejs âœ…
      reset-success.ejs âœ…
      resend-verification.ejs âœ…
      verify-email-sent.ejs âœ…
      verify-email-success.ejs âœ…
      verify-email-expired.ejs âœ…
      verify-email-result.ejs âœ…
      complete-profile.ejs âœ…
    organizer/
      application-status.ejs
      complete-profile.ejs
    admin/
      applications-list.ejs
      application-details.ejs
    error.ejs
  public/
    css/
      style.css
      login.css âœ…
      signup.css âœ…
      forgot-password.css âœ…
      reset-password.css âœ… (Created Feb 3, 2025)
    js/
      main.js
      auth.js
      signup.js âœ…
      reset-password.js âœ… (Created Feb 3, 2025)
    images/
      helloRun-icon.webp
    uploads/
      organizer-docs/
    robots.txt
    sitemap.xml
  server.js

---

Technical Stack (Updated Feb 3, 2025):

Backend:
âœ… Node.js + Express
âœ… MongoDB + Mongoose
âœ… express-session + connect-mongo
âœ… bcrypt for password hashing
âœ… Resend for email delivery
âœ… UUID for token generation
âœ… multer for file uploads

Frontend:
âœ… EJS templating
âœ… Lucide icons
âœ… Vanilla JavaScript
âœ… CSS3 with custom properties
âœ… Mobile-first responsive design

Client-side Features (Added Feb 3, 2025):
âœ… Debounced input validation (300ms)
âœ… Real-time password strength calculation
âœ… Lucide icons for password toggle (eye/eye-off)
âœ… ARIA live regions for accessibility
âœ… CSS transitions and animations
âœ… Pattern-based validation (regex)
âœ… Sequential character detection
âœ… Common password dictionary matching
âœ… Gradient strength indicator
âœ… Error shake animations

Security:
âœ… Password hashing (bcrypt)
âœ… Secure session cookies
âœ… Email verification required
âœ… Password reset tokens (1 hour expiry)
âœ… Rate limiting on password reset (3/24hrs)
âœ… CSRF protection
âœ… Input validation and sanitization
âœ… Common password blocking (20+ patterns)
âœ… Sequential/repeated character detection

---

NEW FEATURES ADDED (Feb 3, 2025):

Password Reset Enhancement:
âœ… reset-password.css - Professional UI with strength indicator
âœ… reset-password.js - Comprehensive client-side validation
âœ… Real-time password strength feedback (5 levels)
âœ… Password visibility toggle with proper icon switching
âœ… Common password detection (20+ patterns blocked)
âœ… Sequential character validation (prevents 123, abc, etc.)
âœ… Repeated character detection (prevents aaa, 111, etc.)
âœ… Debounced validation for better performance
âœ… ARIA support for screen readers
âœ… Live region announcements
âœ… Error shake animations
âœ… Gradient strength indicator
âœ… Password match confirmation
âœ… Focus management for accessibility
âœ… Keyboard navigation support

---

Phase 2: Organiser application + manual approval ğŸ”„ IN PROGRESS (30%)

Goal: Runner can apply to become organiser. Admin can approve.

Feature 2A: Organiser signup flow âœ… COMPLETED
âœ… User signs up and selects "Event Organizer" role
âœ… Email verification sent (same as runner)
âœ… After verification, redirect to /organizer/complete-profile
âœ… Upload service created (multer configuration)
âœ… File validation (PDF, JPEG, PNG only, max 5MB)
âœ… Secure file storage in /public/uploads/organizer-docs/
âœ… Organizer routes created (/organizer/*)
âœ… OrganiserApplication model created with fields:
  - applicationId (auto-increment: APP000001)
  - userId (reference)
  - businessName
  - businessType (individual, company, ngo, sports_club)
  - contactPhone
  - businessRegistrationNumber
  - businessAddress
  - idProofUrl (required)
  - businessProofUrl (required)
  - additionalInfo
  - status: pending, under_review, approved, rejected
  - rejectionReason
  - reviewedBy (admin reference)
  - reviewedAt
  - submittedAt
  - createdAt, updatedAt

Feature 2B: Document upload & profile completion â³ IN PROGRESS (50%)
âœ… Upload service configured (multer)
âœ… File type validation (PDF, JPG, PNG)
âœ… File size validation (max 5MB)
âœ… Secure filename generation (userId_timestamp_random)
âœ… Storage directory created
âœ… Organizer routes skeleton created
â³ Complete profile form UI (NEXT - needs full form)
â³ File upload with drag-and-drop
â³ File preview before upload
â³ Progress indicators
â³ Form validation (business info)
â³ Submit application handler
â³ Email notification on submission

Feature 2C: Admin reviews â³ TODO
â³ Admin dashboard page
â³ List all applications
â³ Filter by status (pending, approved, rejected)
â³ View application details
â³ View uploaded documents
â³ Approve: sets user role to "organiser" + organizerStatus to "approved"
â³ Reject: stores reason and notifies applicant
â³ Email notifications for approval/rejection
â³ Admin routes (/admin/applications)

Feature 2D: Application status page â³ TODO
âœ… Basic placeholder created (updated to use head.ejs)
â³ Show current status (pending, approved, rejected)
â³ Show submission date
â³ Show estimated review time
â³ If rejected: show reason + option to reapply
â³ If approved: congratulations + link to create event

OrganiserApplication model: âœ… CREATED
âœ… All fields defined
âœ… Auto-increment applicationId
âœ… Indexes on userId, status, createdAt
âœ… Timestamps enabled
âœ… Counter integration

Upload service: âœ… CREATED
âœ… uploadOrganizerDocs middleware
âœ… File type validation
âœ… File size validation
âœ… Secure storage
âœ… Unique filename generation
âœ… deleteFile helper
âœ… validateFiles helper

Environment variables added:
âœ… UPLOAD_MAX_SIZE=5242880
âœ… UPLOAD_ALLOWED_TYPES=image/jpeg,image/png,application/pdf
âœ… ADMIN_EMAIL
âœ… ORGANIZER_REVIEW_TIME_DAYS=3
âœ… GA_MEASUREMENT_ID=G-QJZPYEBCVS

Files structure updated:
âœ… src/models/OrganiserApplication.js
âœ… src/services/upload.service.js
âœ… src/routes/organizer.routes.js
âœ… src/middleware/auth.middleware.js (updated)
âœ… src/views/layouts/head.ejs (reusable head with Google Analytics)
âœ… src/views/layouts/nav.ejs (updated with Blog link and role-based routing) âœ… UPDATED
âœ… src/views/auth/login.ejs (improved password toggle) âœ… UPDATED
âœ… src/views/auth/forgot-password.ejs (compact UI) âœ… NEW
âœ… src/views/organizer/complete-profile.ejs (updated to use head.ejs)
âœ… src/views/organizer/application-status.ejs (updated to use head.ejs)
âœ… src/views/admin/applications-list.ejs (updated to use head.ejs)
âœ… src/views/admin/application-details.ejs (updated to use head.ejs)
âœ… All auth views updated to use head.ejs
âœ… All page views updated to use head.ejs
âœ… public/css/login.css (improved password toggle styling) âœ… UPDATED
âœ… public/css/forgot-password.css (NEW - compact design) âœ… NEW
âœ… public/js/auth.js (fixed duplicate password toggle code) âœ… UPDATED
âœ… public/uploads/organizer-docs/ (directory)
âœ… public/sitemap.xml (updated with blog categories) âœ… UPDATED
âœ… .gitignore updated for uploads

Google Analytics Integration: âœ… COMPLETED
âœ… Google Analytics 4 property created (HelloRun)
âœ… Measurement ID: G-QJZPYEBCVS
âœ… head.ejs layout created with GA tracking code
âœ… All 19 pages updated to use head.ejs partial
âœ… GA code loads conditionally (only when GA_MEASUREMENT_ID is set)
âœ… Environment variable configured (.env and .env.example)
âœ… Tracks all pageviews automatically
âœ… Ready for production deployment

Pages with Google Analytics: âœ… ALL PAGES
âœ… index.ejs
âœ… events.ejs
âœ… login.ejs (improved UI) âœ… UPDATED
âœ… signup.ejs
âœ… forgot-password.ejs (improved compact UI) âœ… UPDATED
âœ… reset-password.ejs
âœ… reset-password-expired.ejs
âœ… reset-email-sent.ejs
âœ… reset-success.ejs
âœ… resend-verification.ejs
âœ… verify-email-sent.ejs
âœ… verify-email-success.ejs
âœ… verify-email-expired.ejs
âœ… verify-email-result.ejs
âœ… complete-profile.ejs
âœ… application-status.ejs
âœ… applications-list.ejs
âœ… application-details.ejs
âœ… error.ejs

NEXT IMMEDIATE STEPS FOR PHASE 2:
1. Create complete-profile.ejs full form UI
2. Add drag-and-drop file upload
3. Implement POST /organizer/complete-profile handler
4. Add email templates (submitted, approved, rejected)
5. Update email.service.js
6. Create admin dashboard for reviewing applications
7. Test end-to-end organizer application flow
8. Deploy to production with Google Analytics enabled

--

Phase 3: Event creation (organiser only) ğŸš§ IN PROGRESS (20%)

Goal: Organizers can create running events.

Feature 2A: Event model ğŸš§ IN PROGRESS
âœ… Event.js model created
âœ… Registration.js model created
â³ Image upload functionality
â³ Multiple race categories support
â³ Registration capacity limits
â³ Event validation middleware

Feature 2B: Create event page â³ NOT STARTED
â³ /organiser/create-event form UI
â³ Event creation controller
â³ Image upload integration
â³ Form validation
â³ Preview functionality

Feature 2C: Edit/delete events â³ NOT STARTED
â³ /organiser/my-events page
â³ Edit event controller
â³ Delete event functionality
â³ Event status management

---

Phase 4: Registration + payment proof ğŸ’³ PENDING

Goal: Runner joins event and uploads payment proof for verification.

Feature 4A: Join event â³ TODO
â³ Registration form
â³ Upload payment proof
â³ Create registration with status: "pending_verification"
â³ Email confirmation to runner
â³ Notification to organiser

Feature 4B: Organiser verifies payment â³ TODO
â³ Organiser view registrations
â³ View payment proof
â³ Approve registration (status: "verified")
â³ Reject with reason
â³ Email notification to runner
â³ Runner can only submit results after verification

Registration model needs:
â³ registrationId (custom format)
â³ eventId (reference)
â³ userId (reference)
â³ paymentProofUrl
â³ paymentStatus: "pending_verification", "verified", "rejected"
â³ rejectionReason
â³ verifiedBy (organiser userId)
â³ verifiedAt
â³ createdAt

---

Phase 5: Submissions + approval ğŸƒ PENDING

Goal: Runner submits run proof, organiser approves, certificate becomes available.

Feature 5A: Submit result â³ TODO
â³ Submission form (distance, time, date)
â³ Upload proof (screenshot, photo)
â³ Create submission with status: "pending"
â³ Email notification to organiser

Feature 5B: Organiser approves â³ TODO
â³ View all submissions for event
â³ Review proof
â³ Approve submission (status: "approved")
â³ Reject with reason
â³ Mark completion
â³ Generate certificate

Feature 5C: Certificates â³ TODO
â³ Auto-generate certificate PDF
â³ Runner can download certificate
â³ Display on runner dashboard
â³ Email certificate to runner

Submission model needs:
â³ submissionId (custom format)
â³ registrationId (reference)
â³ eventId (reference)
â³ userId (reference)
â³ distance
â³ time
â³ completionDate
â³ proofUrl
â³ status: "pending", "approved", "rejected"
â³ rejectionReason
â³ certificateUrl
â³ reviewedBy (organiser userId)
â³ reviewedAt
â³ createdAt

---

Phase 6: Dashboards & Analytics ğŸ“Š PENDING

Goal: Users see their progress, organisers see event metrics.

Feature 6A: Runner Dashboard â³ TODO
â³ Upcoming events
â³ Past events
â³ Activity log
â³ Certificates earned
â³ Progress statistics

Feature 6B: Organiser Dashboard â³ TODO
â³ Event overview
â³ Participant statistics
â³ Pending registrations count
â³ Pending submissions count
â³ Revenue tracking

Feature 6C: Admin Dashboard â³ TODO
â³ Platform statistics
â³ User growth
â³ Event trends
â³ Pending applications
â³ System health

---

Phase 7: Additional Pages & Features ğŸŒŸ PENDING

Feature 7A: Static Pages â³ TODO
â³ /about - About HelloRun
â³ /how-it-works - Platform guide
â³ /contact - Contact form
â³ /faq - Frequently asked questions
â³ /privacy - Privacy policy
â³ /terms - Terms of service

Feature 7B: Blog System ğŸ“ PENDING (PLANNED)

Goal: Provide running tips, articles, and community content to engage users and improve SEO.

Navigation Integration: âœ… COMPLETED
âœ… Blog link added to nav.ejs
âœ… Positioned between Events and About
âœ… Role-based dashboard routing in navigation
âœ… Blog categories added to sitemap.xml

Blog Features to implement:
â³ Blog List Page (/blog)
  - Display published posts in card grid
  - Filter by category (training, nutrition, gear, motivation, race-tips, injury-prevention, general)
  - Search functionality
  - Pagination (10 posts per page)
  - Featured posts section
  - Category chips/tags
  - Sort by: latest, popular, most viewed


â³ Blog Post Detail (/blog/:slug)
  - Full post content with rich formatting
  - Author information (name, bio, avatar)
  - Publication date and read time
  - Category and tags
  - View counter
  - Share buttons (social media)
  - Related posts section (same category)
  - Previous/Next post navigation
  - Comments section (optional - Phase 2)

â³ Admin: Create/Edit Post (/admin/blog/new, /admin/blog/edit/:id)
  - Rich text editor (TinyMCE or Quill)
  - Upload featured image
  - Auto-generate slug from title (editable)
  - Add/edit title and excerpt
  - Select category (dropdown)
  - Add tags (multi-select)
  - Save as draft or publish
  - Schedule publication (future date)
  - Preview mode
  - SEO meta fields (title, description, keywords)

â³ Admin: Manage Posts (/admin/blog)
  - List all posts (drafts, published, archived)
  - Filter by status and category
  - Search posts
  - Bulk actions (delete, archive)
  - Quick edit (status, category)
  - View analytics (views, engagement)

BlogPost Model Structure:
â³ postId (auto-increment: 1, 2, 3...)
â³ postIdFormatted (virtual: POST000001)
â³ slug (unique, URL-friendly, auto-generated from title)
â³ title (required, 5-200 chars)
â³ excerpt (required, max 200 chars, for preview cards)
â³ content (required, rich HTML content)
â³ featuredImage (URL to uploaded image)
â³ authorId (reference to User model)
â³ category (enum: training, nutrition, gear, motivation, race-tips, injury-prevention, general)
â³ tags (array of strings, e.g., ["5K", "beginners", "hydration"])
â³ status (enum: draft, published, archived)
â³ publishedAt (Date, null if draft)
â³ scheduledFor (Date, for scheduled posts)
â³ views (Number, default: 0)
â³ readTime (Number, in minutes, auto-calculated from content length)
â³ seoTitle (optional, for SEO optimization)
â³ seoDescription (optional, for meta description)
â³ seoKeywords (array of strings)
â³ createdAt (auto-timestamp)
â³ updatedAt (auto-timestamp)

BlogPost Model Methods:
â³ generateSlug() - creates URL-friendly slug from title
â³ calculateReadTime() - estimates reading time based on word count
â³ incrementViews() - atomic view counter increment
â³ isPublished() - checks if status is published and publishedAt is past
â³ getRelatedPosts() - finds posts in same category

Blog Categories:
â³ Training - Training plans, workout tips, pacing strategies
â³ Nutrition - Diet advice, hydration, supplements, pre/post-run meals
â³ Gear - Shoe reviews, running watches, apparel, accessories
â³ Motivation - Inspirational stories, mental strategies, goal setting
â³ Race Tips - Event preparation, race day strategies, recovery
â³ Injury Prevention - Stretching, strengthening, common injuries, recovery
â³ General - Community updates, platform news, announcements

Blog Routes:
â³ GET /blog - Blog list page (public)
â³ GET /blog/category/:category - Filtered by category (public)
â³ GET /blog/:slug - Single post page (public)
â³ GET /admin/blog - Manage all posts (admin only)
â³ GET /admin/blog/new - Create new post form (admin only)
â³ POST /admin/blog/new - Submit new post (admin only)
â³ GET /admin/blog/edit/:id - Edit post form (admin only)
â³ PUT /admin/blog/edit/:id - Update post (admin only)
â³ DELETE /admin/blog/:id - Delete post (admin only)
â³ POST /blog/:slug/view - Increment view count (public)

Blog Views to create:
â³ src/views/blog/list.ejs - Blog listing with filters
â³ src/views/blog/post.ejs - Single post detail
â³ src/views/admin/blog/manage.ejs - Admin post management
â³ src/views/admin/blog/create.ejs - Create/edit post form
â³ src/views/blog/partials/post-card.ejs - Reusable post card component

Blog Controllers:
â³ src/controllers/blog.controller.js
  - getAllPosts() - list with filters, search, pagination
  - getPostBySlug() - single post with related posts
  - getPostsByCategory() - filtered by category
  - createPost() - admin create new post
  - updatePost() - admin update post
  - deletePost() - admin delete post
  - incrementViewCount() - track post views

Blog Service:
â³ src/services/blog.service.js
  - generateSlug(title) - creates unique slug
  - calculateReadTime(content) - estimates reading time
  - uploadFeaturedImage() - handles image uploads
  - getRelatedPosts(postId, category, limit) - fetch related posts

Environment Variables (Blog):
â³ BLOG_POSTS_PER_PAGE=10
â³ BLOG_EXCERPT_LENGTH=200
â³ BLOG_FEATURED_IMAGE_MAX_SIZE=2097152 (2MB)

Dependencies to add:
â³ slugify (for URL-friendly slugs)
â³ tinymce or quill (rich text editor)
â³ marked or showdown (optional: if using Markdown instead of HTML)

SEO Benefits:
â³ Fresh content for better Google ranking
â³ Long-tail keyword opportunities
â³ Backlink potential from running community
â³ Increased time on site
â³ Social media sharing potential
â³ Establishes HelloRun as running authority

Blog Content Ideas (initial posts):
â³ "10 Tips for Your First Virtual 5K"
â³ "How to Track Your Running Progress"
â³ "Best Running Apps for Virtual Races"
â³ "Nutrition Guide for Long Distance Runners"
â³ "Choosing the Right Running Shoes"
â³ "Staying Motivated When Running Alone"
â³ "Common Running Injuries and Prevention"
â³ "Race Day Checklist for Virtual Events"

Implementation Priority:
1. â³ Create BlogPost model with Counter integration
2. â³ Set up blog routes (public and admin)
3. â³ Create blog.controller.js with CRUD operations
4. â³ Build blog list page UI
5. â³ Build single post page UI
6. â³ Build admin create/edit form with rich text editor
7. â³ Build admin post management page
8. â³ Add image upload for featured images
9. â³ Implement search and filters
10. â³ Add pagination
11. â³ Add view counter
12. â³ Add related posts
13. â³ SEO optimization (meta tags, structured data)
14. â³ Social media sharing buttons
15. â³ Write initial blog posts (5-10 articles)

NOTES:
- Blog can be written by admins initially
- Future: Allow approved organizers to contribute guest posts
- Consider adding comments system (Phase 2 - using Disqus or custom)
- Consider RSS feed for blog subscribers
- Analytics: Track most popular posts, categories, search terms
- Mobile-first design for blog pages

Feature 7C: Search & Filters â³ TODO
â³ Search events
â³ Filter by category
â³ Filter by date range
â³ Filter by location (if applicable)
â³ Search blog posts (added with blog feature)

Feature 7D: Notifications â³ TODO
â³ In-app notifications
â³ Email preferences
â³ Notification history

---

Phase 8: Google OAuth (Optional) ğŸ” PENDING

Goal: Users can sign up/login with Google.

â³ Google OAuth setup
â³ Passport.js integration
â³ Merge accounts (if email exists)
â³ Handle authProvider: "google"

---

Phase 9: Testing & Optimization ğŸ§ª PENDING

â³ Unit tests for services
â³ Integration tests for routes
â³ Performance optimization
â³ Security audit
â³ Mobile responsiveness testing
â³ Cross-browser testing
â³ Load testing
â³ Blog post search performance optimization

---

Phase 10: Deployment ğŸš€ PENDING

â³ Set up production database
â³ Configure environment variables
â³ Set up SSL certificate
â³ Deploy to hosting platform (Render)
â³ Configure domain (hellorun.online)
â³ Set up monitoring
â³ Set up backups
â³ Launch blog with initial content
â³ Submit sitemap to Google (including blog posts)
â³ Launch!

---

CURRENT STATUS: Phase 2 (Organiser Applications) - 30% Complete

COMPLETED FEATURES (Phase 1 & 2A):
âœ… Complete user authentication system
âœ… Email verification with role-aware routing
âœ… Password reset with rate limiting (improved UI) âœ… UPDATED
âœ… Session management
âœ… Route protection middleware
âœ… User model with organizer fields
âœ… OrganiserApplication model
âœ… Upload service with file validation
âœ… Organizer routes skeleton
âœ… Basic organizer views (placeholders)
âœ… Both /signup and /register routes
âœ… verify-email-sent page
âœ… Role-based email verification flow
âœ… Google Analytics 4 integration on all pages
âœ… Reusable head.ejs layout
âœ… Improved password toggle functionality âœ… NEW
âœ… Compact forgot-password page (no scrolling) âœ… NEW
âœ… Navigation with Blog link âœ… NEW
âœ… Sitemap updated with blog categories âœ… NEW

IN PROGRESS:
ğŸ”„ Complete profile form UI with document upload (40%)
ğŸ”„ Application submission handler (0%)
ğŸ”„ Email notifications for applications (0%)

NEXT IMMEDIATE STEPS:
1. Create complete-profile.ejs full form UI
2. Add drag-and-drop file upload
3. Implement POST /organizer/complete-profile handler
4. Add email templates (submitted, approved, rejected)
5. Update email.service.js
6. Create admin dashboard for reviewing applications
7. Test end-to-end organizer application flow
8. Deploy to production with Google Analytics enabled

FUTURE FEATURES (Planned):
ğŸ“ Blog System (Phase 7B) - Navigation ready, routes pending
ğŸ” Enhanced search across events and blog posts
ğŸ’¬ Comments system for blog posts (optional)
ğŸ“° RSS feed for blog subscribers
ğŸ¨ Rich content editor for blog posts
ğŸ“Š Blog analytics and engagement tracking

TECHNICAL DEBT / NOTES:
- Need to initialize Counter for organiserApplication
- Need to initialize Counter for blogPost (when implementing blog)
- File uploads stored locally (consider cloud storage for production)
- Admin email notifications need to be tested
- Consider adding file size warnings on upload
- May need to add virus scanning for uploaded files (production)
- Google Analytics will only track on production when GA_MEASUREMENT_ID is set
- Blog feature will significantly improve SEO and user engagement

DEPLOYMENT STATUS:
- Development: âœ… Working (localhost:3000)
- Production (Render): âš ï¸ Phase 1 deployed, Phase 2 + GA pending
- Domain: hellorun.online
- Database: MongoDB Atlas (Cluster0)
- Email Service: Resend API (verified domain: hellorun.online)
- Analytics: Google Analytics 4 (Property: HelloRun, ID: G-QJZPYEBCVS)

REPOSITORY:
- GitHub: https://github.com/4hprojects/helloRun
- Last Push: January 31, 2026 (UI/UX improvements and blog navigation)
- Branch: main

DEPENDENCIES ADDED:
âœ… multer (file uploads)
âœ… bcryptjs (password hashing)
âœ… express-session (sessions)
âœ… resend (email service)
âœ… mongoose (MongoDB ODM)
âœ… crypto (built-in - token generation)

DEPENDENCIES TO ADD (Future):
â³ slugify (for blog post URLs)
â³ tinymce or quill (rich text editor for blog)
â³ marked or showdown (optional: Markdown support)

NEW FEATURES ADDED (January 31, 2026):
âœ… Google Analytics 4 tracking
âœ… Reusable head.ejs layout
âœ… All pages refactored to use head.ejs
âœ… Environment variable for GA_MEASUREMENT_ID
âœ… Conditional GA loading (dev vs production)
âœ… Improved password toggle (fixed duplicate code, better UX) âœ… NEW
âœ… Compact forgot-password page with modern UI âœ… NEW
âœ… Blog link in navigation âœ… NEW
âœ… Role-based dashboard routing in nav âœ… NEW
âœ… Updated sitemap.xml with blog categories âœ… NEW
âœ… forgot-password.css (external CSS file) âœ… NEW
âœ… Improved login.css (better password toggle styling) âœ… NEW
âœ… Fixed auth.js duplicate code âœ… NEW
ğŸ“ Blog system planned and navigation ready (Phase 7B)


TIMELINE TRACKING:

Phase 0: âœ… Completed - Nov 2024
Phase 1: âœ… Completed - Feb 3, 2025
  - Feature 1A: âœ… Nov 2024
  - Feature 1B: âœ… Dec 2024
  - Feature 1C: âœ… Feb 3, 2025
  - Feature 1D: âœ… Nov 2024
  - Feature 1E: âœ… Dec 2024

Phase 2: ğŸš§ Target - Mar 2025
Phase 3: ğŸ”œ Target - Apr 2025
Phase 4: ğŸ”œ Target - May 2025
Phase 5: ğŸ”œ Target - Jun 2025
Phase 6: ğŸ”œ Target - Jul 2025
Phase 7: ğŸ”œ Target - Aug 2025
Phase 8: ğŸ”œ Target - Sep 2025

---

RECENT UPDATES:

Feb 3, 2025:
âœ… Enhanced password reset functionality
âœ… Created reset-password.css with professional styling
âœ… Created reset-password.js with comprehensive validation
âœ… Added real-time password strength indicator
âœ… Implemented password visibility toggle with Lucide icons
âœ… Added common password detection (20+ patterns)
âœ… Added sequential/repeated character detection
âœ… Implemented ARIA accessibility features
âœ… Added debounced validation (300ms)
âœ… Created gradient strength indicator with 5 levels
âœ… Added error shake animations
âœ… Implemented password match validation
âœ… Added screen reader announcements
âœ… Improved focus management
âœ… Enhanced keyboard navigation support

Dec 2024:
âœ… Complete email verification flow implemented
âœ… Password reset flow with email notifications
âœ… Professional email templates
âœ… Compact forgot-password UI (no scrolling)
âœ… Token expiry handling

Nov 2024:
âœ… Initial project setup
âœ… MVC structure
âœ… MongoDB connection
âœ… User authentication
âœ… Session management

---

ğŸ“ Blog system planned and navigation ready (Phase 7B)